import java.io.IOException;
import java.net.URL;
import java.util.ArrayList;
import java.util.HashMap;
import org.json.JSONObject;

public class InformationGathering {

  public static void main(String[] args) throws IOException {
    ArrayList<InformationSource> sources = new ArrayList<>();
    sources.add(new SerasaSource());
    sources.add(new PortalDaTransferenciaSource());

    HashMap<String, String> information = new HashMap<>();
    information.put("cpf", "12345678910");

    for (InformationSource source : sources) {
      if (information.containsKey(source.getName())) {
        source.retrieveInformation();
      }
    }
  }

  class InformationSource {

    private String name;

    public InformationSource(String name) {
      this.name = name;
    }

    public abstract void retrieveInformation() throws IOException;
  }

  class SerasaSource extends InformationSource {

    public SerasaSource() {
      super("Serasa");
    }

    @Override
    public void retrieveInformation() throws IOException {
      URL url = new URL("https://api.serasa.com.br/score/v1/score/?cpf=" + information.get("cpf"));
      HttpURLConnection connection = (HttpURLConnection) url.openConnection();
      connection.setRequestMethod("GET");
      connection.connect();

      String response = connection.getInputStream().readAllBytes();

      JSONObject jsonObject = new JSONObject(response);

    }
  }

  class PortalDaTransferenciaSource extends InformationSource {

    public PortalDaTransferenciaSource() {
      super("Portal da TransferÃªncia");
    }

    @Override
    public void retrieveInformation() throws IOException {
      URL url = new URL("https://www.portaldatransferencia.com.br/consulta/?cpf=" + information.get("cpf"));
      HttpURLConnection connection = (HttpURLConnection) url.openConnection();
      connection.setRequestMethod("GET");
      connection.connect();

      String response = connection.getInputStream().readAllBytes();

    }
  }
}
